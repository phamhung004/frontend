import{u as ae,a as le,b as ie,c as re,r as i,d as ee,j as e,f as p,p as ce,R as oe,e as he,g as xe,I as me}from"./index-yXMbLeq1.js";const ue=({initialProduct:N})=>{const M=ae(),{id:q}=le(),{addToCart:te,cart:A}=ie(),n=re(),[B,F]=i.useState(1),[$,S]=i.useState("1"),[l,T]=i.useState(N??null),[x,P]=i.useState(null),[I,z]=i.useState(!1),[v,o]=i.useState({hours:23,minutes:45,seconds:30}),[j,R]=i.useState(!1),[U,C]=i.useState(!N),[H,V]=i.useState(null),O="/images/placeholder.webp",K=1,L=i.useMemo(()=>{if(N?.id)return N.id;if(q){const t=Number.parseInt(q,10);if(!Number.isNaN(t))return t}return K},[q,N?.id]);i.useEffect(()=>{if(N){T(N),C(!1),V(null);return}(async()=>{if(!L){V("Kh√¥ng th·ªÉ x√°c ƒë·ªãnh s·∫£n ph·∫©m c·∫ßn hi·ªÉn th·ªã"),C(!1);return}try{C(!0);const s=await ce.getProductById(L);T(s),V(null)}catch(s){console.error("Failed to load landing product:",s),V("Kh√¥ng th·ªÉ t·∫£i th√¥ng tin s·∫£n ph·∫©m")}finally{C(!1)}})()},[N,L]);const E=i.useMemo(()=>l?l.variants&&l.variants.length>0?l.variants:[{id:void 0,productId:l.id,name:l.name,price:l.salePrice??l.regularPrice,basePrice:l.basePrice??l.regularPrice,finalPrice:l.finalPrice??l.salePrice??l.regularPrice,discountAmount:l.discountAmount??void 0,activeDiscount:l.activeDiscount??null,stockQuantity:l.stockQuantity,imageUrl:l.thumbnailUrl,sku:l.sku,attributes:null,createdAt:l.createdAt,updatedAt:l.updatedAt}]:[],[l]);i.useEffect(()=>{if(!E.length){P(null);return}const t=E.find(s=>s.stockQuantity>0);P(s=>s?E.find(c=>c.id!==void 0&&s.id!==void 0?c.id===s.id:c.name===s.name)??t??E[0]:t??E[0])},[E]),i.useEffect(()=>{if(!l)return;const t=x?.stockQuantity??l.stockQuantity??1;if(!t||t<=0){F(1);return}F(s=>Math.max(1,Math.min(s,t)))},[l,x]);const u=i.useMemo(()=>{if(!l)return[];const t=new Map,s=(c,k)=>{!c||t.has(c)||t.set(c,{src:c,alt:k??l.name})};return[...l.media??[]].sort((c,k)=>{const D=c.displayOrder??0,ne=k.displayOrder??0;return D-ne}).forEach(c=>s(c.imageUrl,c.altText)),s(l.thumbnailUrl,l.name),(l.variants??[]).forEach(c=>s(c.imageUrl,c.name)),Array.from(t.values())},[l]),Q=u[0]?.src??l?.thumbnailUrl??O,_=u[0]?.alt??l?.name??"H√¨nh s·∫£n ph·∫©m",y=i.useMemo(()=>l?ee(l,x??void 0):null,[l,x]),m=x?.stockQuantity??l?.stockQuantity??0,G=Math.max(0,m),g=(y?.finalPrice??0)*B,X=y&&y.discountAmount>0?y.discountAmount*B:0,J=g;i.useEffect(()=>{S(B.toString())},[B]),i.useEffect(()=>{F(1)},[x]);const se=t=>x?t.id!==void 0&&x.id!==void 0?t.id===x.id:t.name===x.name:!1,Z=G>0?B<G:!1,a=B>1;i.useEffect(()=>{const t=setInterval(()=>{o(s=>s.seconds>0?{...s,seconds:s.seconds-1}:s.minutes>0?{hours:s.hours,minutes:s.minutes-1,seconds:59}:s.hours>0?{hours:s.hours-1,minutes:59,seconds:59}:s)},1e3);return()=>clearInterval(t)},[]),i.useEffect(()=>{const t=()=>{z(window.scrollY>800)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]);const d=t=>{/^\d*$/.test(t)&&S(t)},h=(t,{suppressToast:s=!1}={})=>{const f=x?x.stockQuantity:l?.stockQuantity??0,c=t.trim(),k=(ne,de)=>{s||n.warning(ne,de)};if(c==="")return k("S·ªë l∆∞·ª£ng kh√¥ng h·ª£p l·ªá","S·ªë l∆∞·ª£ng ph·∫£i l·ªõn h∆°n 0"),F(1),S("1"),null;const D=parseInt(c,10);return!D||D<1?(k("S·ªë l∆∞·ª£ng kh√¥ng h·ª£p l·ªá","S·ªë l∆∞·ª£ng ph·∫£i l·ªõn h∆°n 0"),F(1),S("1"),null):f>0&&D>f?(k("Kh√¥ng ƒë·ªß h√†ng",`Ch·ªâ c√≤n ${f} s·∫£n ph·∫©m trong kho`),F(f),S(f.toString()),null):(F(D),S(D.toString()),D)},r=()=>{h($)},w=t=>{t.key==="Enter"&&(t.preventDefault(),t.target.blur())},b=async()=>{if(!l)return!1;if(m<=0)return n.error("Kh√¥ng th·ªÉ th√™m v√†o gi·ªè","S·∫£n ph·∫©m ƒë√£ h·∫øt h√†ng"),!1;const t=h($);if(!t)return!1;const s=A?.items?.find(D=>D.productId===l.id&&(D.variantId??null)===(x?.id??null)),f=s?s.quantity:0,c=m-f;if(c<=0)return n.error("Kh√¥ng th·ªÉ th√™m v√†o gi·ªè","B·∫°n ƒë√£ c√≥ t·ªëi ƒëa s·ªë l∆∞·ª£ng s·∫£n ph·∫©m trong gi·ªè h√†ng"),!1;let k=t;t>c&&(k=c,n.warning("S·ªë l∆∞·ª£ng ƒëi·ªÅu ch·ªânh",`Ch·ªâ c√≤n ${c} s·∫£n ph·∫©m c√≥ th·ªÉ th√™m v√¨ b·∫°n ƒë√£ c√≥ ${f} trong gi·ªè`));try{return R(!0),await te({productId:l.id,variantId:x?.id,quantity:k}),n.success("ƒê√£ th√™m v√†o gi·ªè h√†ng!",`${k} x ${l.name}${x?" - "+x.name:""}`),!0}catch(D){return console.error("Error adding to cart:",D),n.error("Kh√¥ng th·ªÉ th√™m v√†o gi·ªè h√†ng","Vui l√≤ng th·ª≠ l·∫°i sau ho·∫∑c li√™n h·ªá h·ªó tr·ª£"),!1}finally{R(!1)}},W=async()=>{await b()&&M("/cart")},Y=()=>{document.getElementById("order-section")?.scrollIntoView({behavior:"smooth"})};return U?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsx("p",{className:"text-[#646667]",children:"ƒêang t·∫£i th√¥ng tin s·∫£n ph·∫©m..."})}):H||!l?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-red-500",children:H||"Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m"}),e.jsx("button",{onClick:()=>M("/shop"),className:"bg-[#9F86D9] text-white px-6 py-3 rounded-md hover:bg-[#8a75c4] transition-colors",children:"Quay l·∫°i c·ª≠a h√†ng"})]})}):e.jsxs("div",{className:"min-h-screen bg-white relative overflow-x-hidden",children:[I&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-2xl z-50 border-t-4 border-[#9F86D9]",children:e.jsx("div",{className:"max-w-[1434px] mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("img",{src:Q,alt:_,className:"w-16 h-16 rounded-lg object-cover shadow-md"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-[#1C1D1D] text-lg",children:l.name}),e.jsx("p",{className:"text-[#9F86D9] font-bold text-xl",children:p(y?.finalPrice??0)})]})]}),e.jsxs("button",{onClick:Y,className:"px-8 py-4 bg-gradient-to-r from-[#E35946] to-[#F25E17] text-white rounded-lg font-bold text-lg hover:shadow-xl transition-all hover:scale-105",children:["üî• ƒê·∫∂T H√ÄNG NGAY",y&&y.discountAmount>0?` - TI·∫æT KI·ªÜM ${p(y.discountAmount)}`:""]})]})})}),e.jsxs("section",{className:"relative bg-gradient-to-br from-[#FFF9E5] via-[#F5F2FF] to-[#E5F9FF] py-16 overflow-hidden",children:[e.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 bg-[#FCC605] rounded-full opacity-20 animate-bounce"}),e.jsx("div",{className:"absolute bottom-10 right-10 w-32 h-32 bg-[#9F86D9] rounded-full opacity-10 animate-pulse"}),e.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 bg-[#39F5C4] rounded-full opacity-20"}),e.jsxs("div",{className:"max-w-[1434px] mx-auto px-4 relative z-10",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs("div",{className:"inline-flex items-center gap-3 bg-gradient-to-r from-[#E35946] to-[#F25E17] text-white px-8 py-3 rounded-full shadow-xl animate-pulse",children:[e.jsx("span",{className:"text-2xl",children:"üî•"}),e.jsx("span",{className:"font-bold text-lg",children:"FLASH SALE H√îM NAY - GI·∫¢M ƒê·∫æN 21%"}),e.jsx("span",{className:"text-2xl",children:"üî•"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-6xl font-bold text-[#1C1D1D] leading-tight mb-4",children:["B√© Y√™u Th√≠ch",e.jsx("span",{className:"text-[#9F86D9] block",children:"T√¥ M√†u M·ªói Ng√†y?"})]}),e.jsxs("p",{className:"text-2xl text-[#646667] font-medium leading-relaxed",children:["T·∫∑ng con combo ",e.jsx("strong",{className:"text-[#E35946]",children:l.name})," - ph√°t tri·ªÉn s√°ng t·∫°o, kh√©o l√©o v√† t∆∞ duy ngay t·ª´ nh·ªè! üé®"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex -space-x-3",children:["üëß","üë¶","üë∂","üë®","üë©"].map((t,s)=>e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#9F86D9] to-[#B79FE8] rounded-full border-4 border-white flex items-center justify-center text-xl shadow-md",children:t},s))}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1C1D1D] font-bold text-lg",children:"342+ gia ƒë√¨nh ƒë√£ mua"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((t,s)=>e.jsx("span",{className:"text-[#FCC605] text-lg",children:"‚òÖ"},s))}),e.jsx("span",{className:"text-[#646667] font-medium",children:"4.9/5 (128 ƒë√°nh gi√°)"})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{icon:"‚úÖ",text:"Gi·∫•y d√†y, kh√¥ng lem"},{icon:"‚úÖ",text:"An to√†n cho b√©"},{icon:"‚úÖ",text:"Nhi·ªÅu h√¨nh d·ªÖ th∆∞∆°ng"},{icon:"‚úÖ",text:"Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn"}].map((t,s)=>e.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-xl px-4 py-3 shadow-md",children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsx("span",{className:"font-medium text-[#1C1D1D]",children:t.text})]},s))}),e.jsxs("button",{onClick:Y,className:"w-full py-6 bg-gradient-to-r from-[#E35946] to-[#F25E17] text-white rounded-2xl font-bold text-2xl shadow-2xl hover:shadow-3xl hover:scale-105 transition-all relative overflow-hidden group",children:[e.jsx("span",{className:"relative z-10 flex items-center justify-center gap-3",children:e.jsxs("span",{children:["üõí ƒê·∫∂T H√ÄNG NGAY",y&&y.discountAmount>0?` - TI·∫æT KI·ªÜM ${p(y.discountAmount)}`:""]})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#F25E17] to-[#E35946] opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl border-2 border-[#FCC605]",children:[e.jsx("p",{className:"text-center text-[#646667] font-medium mb-3",children:"‚è∞ ∆Øu ƒë√£i k·∫øt th√∫c sau:"}),e.jsx("div",{className:"flex justify-center gap-4",children:[{label:"Gi·ªù",value:v.hours},{label:"Ph√∫t",value:v.minutes},{label:"Gi√¢y",value:v.seconds}].map((t,s)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-[#E35946] to-[#F25E17] text-white text-4xl font-bold w-20 h-20 rounded-xl flex items-center justify-center shadow-lg",children:String(t.value).padStart(2,"0")}),e.jsx("p",{className:"text-sm text-[#646667] font-medium mt-2",children:t.label})]},s))})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute -top-6 -right-6 z-20 bg-gradient-to-br from-[#E35946] to-[#F25E17] text-white rounded-full w-32 h-32 flex flex-col items-center justify-center shadow-2xl rotate-12 animate-bounce",children:[e.jsx("span",{className:"text-3xl font-bold",children:"-21%"}),e.jsx("span",{className:"text-sm",children:"GI·∫¢M GI√Å"})]}),e.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-2xl transform hover:scale-105 transition-all duration-500",children:[e.jsx("img",{src:Q,alt:_,className:"w-full h-[600px] object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),e.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white rounded-2xl px-6 py-4 shadow-xl",children:[e.jsx("p",{className:"text-[#646667] text-sm mb-1",children:"ƒê√£ b√°n"}),e.jsx("p",{className:"text-[#9F86D9] text-3xl font-bold",children:"342+"})]}),e.jsxs("div",{className:"absolute top-1/2 -right-6 bg-white rounded-2xl px-6 py-4 shadow-xl",children:[e.jsx("p",{className:"text-[#646667] text-sm mb-1",children:"ƒê√°nh gi√°"}),e.jsx("p",{className:"text-[#FCC605] text-3xl font-bold",children:"4.9‚òÖ"})]})]})]})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-[1434px] mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-5xl font-bold text-[#1C1D1D] mb-6",children:"B·∫°n ƒêang G·∫∑p Nh·ªØng V·∫•n ƒê·ªÅ N√†y?"}),e.jsx("p",{className:"text-xl text-[#646667] max-w-3xl mx-auto",children:"Nhi·ªÅu ba m·∫π ƒëang lo l·∫Øng v·ªÅ s·ª± ph√°t tri·ªÉn s√°ng t·∫°o v√† k·ªπ nƒÉng c·ªßa con..."})]}),e.jsx("div",{className:"grid grid-cols-3 gap-8",children:[{icon:"üòü",title:"Con hay ch∆°i ƒëi·ªán tho·∫°i, iPad?",description:"Thi·∫øu ho·∫°t ƒë·ªông th·ªß c√¥ng, ·∫£nh h∆∞·ªüng ƒë·∫øn s·ª± ph√°t tri·ªÉn n√£o b·ªô v√† th·ªã l·ª±c c·ªßa b√©"},{icon:"üòî",title:"Con ch∆∞a kh√©o l√©o v·ªõi b√∫t?",description:"Ch∆∞a bi·∫øt c√°ch c·∫ßm b√∫t ƒë√∫ng c√°ch, ch∆∞a ph·ªëi h·ª£p tay - m·∫Øt t·ªët"},{icon:"üòï",title:"Con √≠t s√°ng t·∫°o, t∆∞·ªüng t∆∞·ª£ng?",description:"Thi·∫øu c∆° h·ªôi ƒë·ªÉ ph√°t tri·ªÉn kh·∫£ nƒÉng ngh·ªá thu·∫≠t v√† t∆∞ duy s√°ng t·∫°o"}].map((t,s)=>e.jsxs("div",{className:"bg-[#EFF2F3] rounded-2xl p-8 text-center hover:bg-[#F5F2FF] transition-all",children:[e.jsx("div",{className:"text-6xl mb-4",children:t.icon}),e.jsx("h3",{className:"text-xl font-bold text-[#1C1D1D] mb-3",children:t.title}),e.jsx("p",{className:"text-[#646667]",children:t.description})]},s))}),e.jsx("div",{className:"text-center mt-12",children:e.jsx("div",{className:"inline-block bg-gradient-to-r from-[#9F86D9] to-[#B79FE8] text-white px-8 py-4 rounded-full font-bold text-xl animate-bounce",children:"‚Üì Gi·∫£i ph√°p ho√†n h·∫£o cho b√© ‚Üì"})})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-[#F5F2FF] to-[#FFF9E5]",children:e.jsxs("div",{className:"max-w-[1434px] mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("h2",{className:"text-5xl font-bold text-[#1C1D1D] mb-6",children:[l.name," -",e.jsx("span",{className:"text-[#9F86D9] block",children:"Gi·∫£i Ph√°p Ho√†n H·∫£o!"})]}),e.jsx("p",{className:"text-xl text-[#646667] max-w-3xl mx-auto",children:"S·∫£n ph·∫©m ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·∫∑c bi·ªát gi√∫p ph√°t tri·ªÉn to√†n di·ªán k·ªπ nƒÉng cho b√©"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-12",children:[{icon:"üé®",title:"Ph√°t Tri·ªÉn S√°ng T·∫°o",description:"Khuy·∫øn kh√≠ch b√© t·ª± do s√°ng t·∫°o v·ªõi m√†u s·∫Øc, ph√°t tri·ªÉn tr√≠ t∆∞·ªüng t∆∞·ª£ng phong ph√∫",benefit:"B√© s·∫Ω t·ª± tin s√°ng t·∫°o, kh√¥ng ng·∫°i th·ªÉ hi·ªán b·∫£n th√¢n"},{icon:"‚úèÔ∏è",title:"R√®n Luy·ªán K·ªπ NƒÉng V·∫≠n ƒê·ªông",description:"Gi√∫p b√© h·ªçc c√°ch c·∫ßm b√∫t ƒë√∫ng, ph·ªëi h·ª£p tay - m·∫Øt, chu·∫©n b·ªã t·ªët cho vi·ªác vi·∫øt ch·ªØ",benefit:"B√© s·∫Ω c·∫ßm b√∫t kh√©o l√©o, vi·∫øt ch·ªØ ƒë·∫πp sau n√†y"},{icon:"üß†",title:"TƒÉng C∆∞·ªùng T·∫≠p Trung",description:"Ho·∫°t ƒë·ªông t√¥ m√†u gi√∫p b√© h·ªçc c√°ch t·∫≠p trung, ki√™n nh·∫´n ho√†n th√†nh c√¥ng vi·ªác",benefit:"B√© s·∫Ω chƒÉm ch·ªâ h·ªçc t·∫≠p, kh√¥ng b·ªã ph√¢n t√¢m d·ªÖ d√†ng"},{icon:"üíù",title:"An To√†n Tuy·ªát ƒê·ªëi",description:"Gi·∫•y d√†y, ch·∫•t l∆∞·ª£ng cao, kh√¥ng ch·ª©a ch·∫•t ƒë·ªôc h·∫°i, an to√†n cho s·ª©c kh·ªèe c·ªßa b√©",benefit:"Ba m·∫π ho√†n to√†n y√™n t√¢m cho b√© s·ª≠ d·ª•ng"}].map((t,s)=>e.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-xl hover:shadow-2xl hover:scale-105 transition-all",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"text-6xl flex-shrink-0",children:t.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-[#1C1D1D] mb-3",children:t.title}),e.jsx("p",{className:"text-[#646667] mb-4 leading-relaxed",children:t.description}),e.jsx("div",{className:"bg-[#F5F2FF] rounded-lg p-4 border-l-4 border-[#9F86D9]",children:e.jsxs("p",{className:"text-[#9F86D9] font-bold",children:["‚ú® ",t.benefit]})})]})]})},s))})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-[1434px] mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-5xl font-bold text-[#1C1D1D] mb-6",children:"S·ª± Thay ƒê·ªïi K·ª≥ Di·ªáu C·ªßa B√©"}),e.jsx("p",{className:"text-xl text-[#646667]",children:"Ch·ªâ sau 2-3 tu·∫ßn s·ª≠ d·ª•ng ƒë·ªÅu ƒë·∫∑n"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[e.jsxs("div",{className:"bg-[#EFF2F3] rounded-2xl p-12 relative",children:[e.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-[#646667] text-white px-8 py-3 rounded-full font-bold text-xl",children:"TR∆Ø·ªöC KHI D√ôNG"}),e.jsx("div",{className:"mt-8 space-y-6",children:["‚ùå Hay ch∆°i ƒëi·ªán tho·∫°i, √≠t ho·∫°t ƒë·ªông s√°ng t·∫°o","‚ùå C·∫ßm b√∫t ch∆∞a v·ªØng, vi·∫øt ch·ªØ c√≤n v·ª•ng v·ªÅ","‚ùå D·ªÖ b·ªã ph√¢n t√¢m, kh√≥ t·∫≠p trung l√¢u","‚ùå √çt t·ª± tin khi th·ªÉ hi·ªán s√°ng t·∫°o"].map((t,s)=>e.jsx("p",{className:"text-lg text-[#646667] font-medium",children:t},s))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-[#F5F2FF] to-[#E5F9FF] rounded-2xl p-12 relative border-4 border-[#9F86D9]",children:[e.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-gradient-to-r from-[#9F86D9] to-[#B79FE8] text-white px-8 py-3 rounded-full font-bold text-xl shadow-xl",children:"SAU KHI D√ôNG ‚ú®"}),e.jsx("div",{className:"mt-8 space-y-6",children:["‚úÖ Th√≠ch ho·∫°t ƒë·ªông s√°ng t·∫°o, gi·∫£m th·ªùi gian m√†n h√¨nh","‚úÖ C·∫ßm b√∫t v·ªØng v√†ng, k·ªπ nƒÉng v·∫≠n ƒë·ªông c·∫£i thi·ªán","‚úÖ T·∫≠p trung cao ƒë·ªô, ki√™n nh·∫´n ho√†n th√†nh t√°c ph·∫©m","‚úÖ T·ª± tin s√°ng t·∫°o, nhi·ªÅu √Ω t∆∞·ªüng ngh·ªá thu·∫≠t"].map((t,s)=>e.jsx("p",{className:"text-lg text-[#1C1D1D] font-bold",children:t},s))})]})]})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-[#FFF9E5] to-[#F5F2FF]",children:e.jsxs("div",{className:"max-w-[1434px] mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-5xl font-bold text-[#1C1D1D] mb-6",children:"342+ Gia ƒê√¨nh ƒê√£ Tin T∆∞·ªüng"}),e.jsx("p",{className:"text-xl text-[#646667]",children:"Nghe chia s·∫ª t·ª´ c√°c ba m·∫π ƒë√£ mua s·∫£n ph·∫©m cho b√©"})]}),e.jsx("div",{className:"bg-white rounded-3xl p-12 shadow-2xl mb-12 border-4 border-[#FCC605]",children:e.jsxs("div",{className:"flex items-start gap-8",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-[#9F86D9] to-[#B79FE8] rounded-full flex items-center justify-center text-5xl flex-shrink-0 shadow-lg",children:"üë©"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-[#1C1D1D]",children:"Ch·ªã Nguy·ªÖn Th·ªã Mai"}),e.jsx("span",{className:"bg-[#39F5C4] text-white px-4 py-1 rounded-full text-sm font-bold",children:"MUA 5 L·∫¶N"})]}),e.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(5)].map((t,s)=>e.jsx("span",{className:"text-[#FCC605] text-2xl",children:"‚òÖ"},s))}),e.jsxs("p",{className:"text-xl text-[#646667] leading-relaxed mb-6",children:['"Con g√°i m√¨nh 4 tu·ªïi r·∫•t th√≠ch! L√∫c ƒë·∫ßu t√¥ c√≤n v·ª•ng, b√¢y gi·ªù t√¥ r·∫•t ƒë·∫πp v√† chƒÉm ch·ªâ. M·ªói ng√†y ƒë·ªÅu ƒë√≤i t√¥ m√†u, kh√¥ng c√≤n ngh·ªãch ƒëi·ªán tho·∫°i nhi·ªÅu n·ªØa. Gi·∫•y d√†y, in ƒë·∫πp, t√¥ m√†u n∆∞·ªõc kh√¥ng b·ªã lem. ',e.jsx("strong",{className:"text-[#E35946]",children:"M√¨nh ƒë√£ gi·ªõi thi·ªáu cho nhi·ªÅu m·∫π b·∫°n r·ªìi!"}),' C·∫£m ∆°n shop s·∫£n ph·∫©m tuy·ªát v·ªùi! üíï"']}),e.jsx("div",{className:"flex gap-3",children:u.slice(0,3).map(t=>e.jsx("img",{src:t.src,alt:t.alt,className:"w-32 h-32 rounded-lg object-cover border-2 border-[#9F86D9]"},t.src))})]})]})}),e.jsx("div",{className:"grid grid-cols-3 gap-6",children:[{name:"Anh Tr·∫ßn VƒÉn An",role:"B·ªë c·ªßa b√© Minh An",rating:5,comment:"Con t√¥i r·∫•t th√≠ch! S·∫£n ph·∫©m ch·∫•t l∆∞·ª£ng, gi√° h·ª£p l√Ω. T√¥ m·ªói ng√†y kh√¥ng ch√°n.",avatar:"üë®"},{name:"Ch·ªã L√™ Th·ªã H∆∞∆°ng",role:"M·∫π c·ªßa b√© H√† My",rating:5,comment:"ƒê√≥ng g√≥i c·∫©n th·∫≠n, ship nhanh. B√© nh√† m√¨nh t√¥ r·∫•t ƒë·∫πp, chu·∫©n b·ªã mua th√™m!",avatar:"üë©"},{name:"Ch·ªã Ph·∫°m Thu H√†",role:"M·∫π c·ªßa 2 b√©",rating:5,comment:"Mua cho 2 con, c·∫£ 2 ƒë·ªÅu th√≠ch. Gi·∫•y d√†y, m√†u s·∫Øc ƒë·∫πp, an to√†n cho b√©.",avatar:"üë©"}].map((t,s)=>e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-[#9F86D9] to-[#B79FE8] rounded-full flex items-center justify-center text-2xl",children:t.avatar}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-[#1C1D1D]",children:t.name}),e.jsx("p",{className:"text-xs text-[#646667]",children:t.role})]})]}),e.jsx("div",{className:"flex gap-1 mb-3",children:[...Array(t.rating)].map((f,c)=>e.jsx("span",{className:"text-[#FCC605]",children:"‚òÖ"},c))}),e.jsxs("p",{className:"text-sm text-[#646667] leading-relaxed",children:['"',t.comment,'"']})]},s))})]})}),e.jsx("section",{id:"order-section",className:"py-20 bg-gradient-to-br from-[#9F86D9] to-[#B79FE8]",children:e.jsx("div",{className:"max-w-[1200px] mx-auto px-4",children:e.jsx("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsxs("div",{className:"relative bg-[#F5F2FF] p-12",children:[e.jsx("div",{className:"absolute top-6 right-6 bg-[#E35946] text-white px-6 py-3 rounded-full font-bold text-lg shadow-xl rotate-12",children:"-21% OFF"}),e.jsx("img",{src:Q,alt:_,className:"w-full h-full object-cover rounded-2xl shadow-xl"}),e.jsx("div",{className:"absolute bottom-6 left-6 right-6 bg-white rounded-xl p-4 shadow-lg",children:e.jsx("p",{className:"text-center font-bold text-[#1C1D1D]",children:"üéÅ T·∫∑ng k√®m: Sticker + B√∫t ch√¨ m√†u"})})]}),e.jsxs("div",{className:"p-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-[#1C1D1D] mb-6",children:"ƒê·∫∑t H√†ng Ngay H√¥m Nay!"}),e.jsx("p",{className:"text-[#646667] text-lg mb-8",children:G>0?e.jsxs(e.Fragment,{children:["Ch·ªâ c√≤n ",e.jsxs("strong",{className:"text-[#E35946]",children:[G," su·∫•t"]})," v·ªõi gi√° ∆∞u ƒë√£i ƒë·∫∑c bi·ªát"]}):"Hi·ªán s·∫£n ph·∫©m t·∫°m h·∫øt h√†ng, vui l√≤ng quay l·∫°i sau."}),E.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-[#1C1D1D] font-bold mb-3",children:"Ch·ªçn g√≥i s·∫£n ph·∫©m:"}),e.jsx("div",{className:"space-y-3",children:E.map(t=>{const s=ee(l,t),f=se(t);return e.jsx("button",{onClick:()=>P(t),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${f?"border-[#9F86D9] bg-[#F5F2FF] shadow-lg scale-105":"border-[#DBE2E5] bg-white hover:border-[#9F86D9]"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`font-bold text-lg ${f?"text-[#9F86D9]":"text-[#1C1D1D]"}`,children:t.name}),e.jsx("p",{className:"text-sm text-[#646667]",children:s.discountAmount>0?`Ti·∫øt ki·ªám: ${p(s.discountAmount)}`:"Gi√° t·ªët nh·∫•t cho ba m·∫π"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-[#9F86D9]",children:p(s.finalPrice)}),s.discountAmount>0&&e.jsx("p",{className:"text-sm text-[#646667] line-through",children:p(s.basePrice)})]})]})},t.id??t.name)})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"block text-[#1C1D1D] font-bold mb-3",children:"S·ªë l∆∞·ª£ng:"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center border-2 border-[#DBE2E5] rounded-lg",children:[e.jsx("button",{onClick:()=>F(t=>Math.max(1,t-1)),disabled:!a||j||m===0,className:`w-12 h-12 flex items-center justify-center transition-colors font-bold text-xl ${a&&!j&&m>0?"hover:bg-[#EFF2F3]":"cursor-not-allowed text-gray-400"}`,children:"‚àí"}),e.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:$,onChange:t=>d(t.target.value),onBlur:r,onKeyDown:w,disabled:j||m===0,className:"w-16 text-center text-xl font-bold text-[#1C1D1D] border-x-2 border-[#DBE2E5] outline-none disabled:text-gray-400 disabled:bg-gray-50"}),e.jsx("button",{onClick:()=>F(t=>G>0?Math.min(G,t+1):t+1),disabled:!Z||j||m===0,className:`w-12 h-12 flex items-center justify-center transition-colors font-bold text-xl ${Z&&!j&&m>0?"hover:bg-[#EFF2F3]":"cursor-not-allowed text-gray-400"}`,children:"+"})]}),e.jsx("div",{className:"flex-1",children:m>0?e.jsxs("p",{className:"text-[#646667]",children:["C√≤n ",e.jsx("strong",{className:"text-[#9F86D9]",children:m})," s·∫£n ph·∫©m"]}):e.jsx("p",{className:"text-red-500 font-bold",children:"H·∫øt h√†ng"})})]})]}),e.jsxs("div",{className:"bg-[#FFF9E5] rounded-xl p-6 mb-8 border-2 border-[#FCC605]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-[#646667] text-lg",children:"T·∫°m t√≠nh:"}),e.jsx("span",{className:"text-2xl font-bold text-[#1C1D1D]",children:p(g)})]}),X>0&&e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-[#646667] text-lg",children:"Ti·∫øt ki·ªám:"}),e.jsxs("span",{className:"text-2xl font-bold text-[#E35946]",children:["-",p(X)]})]}),e.jsxs("div",{className:"border-t-2 border-[#FCC605] pt-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-[#1C1D1D] text-xl font-bold",children:"T·ªïng c·ªông:"}),e.jsx("span",{className:"text-3xl font-bold text-[#9F86D9]",children:p(J)})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("button",{onClick:b,disabled:m===0||j,className:`w-full py-5 rounded-xl font-bold text-xl shadow-xl hover:shadow-2xl hover:scale-105 transition-all ${m===0||j?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-white border-2 border-[#9F86D9] text-[#9F86D9] hover:bg-[#9F86D9] hover:text-white"}`,children:j?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-current"}),"ƒêang th√™m..."]}):m===0?"‚ùå H·∫æT H√ÄNG":"üõí TH√äM V√ÄO GI·ªé H√ÄNG"}),e.jsx("button",{onClick:W,disabled:m===0||j,className:`w-full py-5 rounded-xl font-bold text-xl shadow-xl hover:shadow-2xl hover:scale-105 transition-all ${m===0||j?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-[#E35946] to-[#F25E17] text-white"}`,children:m===0?"‚ùå H·∫æT H√ÄNG":"‚ö° MUA NGAY - MI·ªÑN PH√ç SHIP"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{icon:"‚úÖ",text:"Mi·ªÖn ph√≠ ship"},{icon:"üéÅ",text:"Qu√† t·∫∑ng k√®m"},{icon:"üîÑ",text:"ƒê·ªïi tr·∫£ 7 ng√†y"}].map((t,s)=>e.jsxs("div",{className:"text-center py-2 bg-[#F5F2FF] rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-1",children:t.icon}),e.jsx("p",{className:"text-xs text-[#646667] font-medium",children:t.text})]},s))})]})]})})})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-[1000px] mx-auto px-4",children:[e.jsx("div",{className:"text-center mb-16",children:e.jsx("h2",{className:"text-5xl font-bold text-[#1C1D1D] mb-6",children:"C√¢u H·ªèi Th∆∞·ªùng G·∫∑p"})}),e.jsx("div",{className:"space-y-4",children:[{q:"S·∫£n ph·∫©m c√≥ ph√π h·ª£p v·ªõi b√© 3 tu·ªïi kh√¥ng?",a:"Ho√†n to√†n ph√π h·ª£p! S·∫£n ph·∫©m ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·∫∑c bi·ªát cho b√© t·ª´ 3 tu·ªïi tr·ªü l√™n. H√¨nh v·∫Ω ƒë∆°n gi·∫£n, ƒë∆∞·ªùng n√©t r√µ r√†ng gi√∫p b√© d·ªÖ d√†ng t√¥ m√†u v√† s√°ng t·∫°o."},{q:"Gi·∫•y c√≥ d√†y kh√¥ng? T√¥ m√†u n∆∞·ªõc c√≥ b·ªã lem kh√¥ng?",a:"Gi·∫•y r·∫•t d√†y v√† ch·∫•t l∆∞·ª£ng cao (120gsm), c√≥ th·ªÉ t√¥ b·∫±ng s√°p, m√†u n∆∞·ªõc, ho·∫∑c acrylic ƒë·ªÅu kh√¥ng b·ªã th·∫•m hay lem. Ba m·∫π ho√†n to√†n y√™n t√¢m!"},{q:"M·∫•t bao l√¢u ƒë·ªÉ nh·∫≠n ƒë∆∞·ª£c h√†ng?",a:"ƒê∆°n h√†ng s·∫Ω ƒë∆∞·ª£c x·ª≠ l√Ω trong 24h v√† giao trong 2-3 ng√†y (n·ªôi th√†nh) ho·∫∑c 3-5 ng√†y (ngo·∫°i th√†nh). Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn to√†n qu·ªëc!"},{q:"C√≥ ch√≠nh s√°ch ƒë·ªïi tr·∫£ kh√¥ng?",a:"C√≥! Ch√∫ng t√¥i h·ªó tr·ª£ ƒë·ªïi tr·∫£ trong v√≤ng 7 ng√†y n·∫øu s·∫£n ph·∫©m b·ªã l·ªói do nh√† s·∫£n xu·∫•t. Vui l√≤ng gi·ªØ nguy√™n bao b√¨ v√† tem m√°c."},{q:"C√≥ ƒë∆∞·ª£c xem h√†ng tr∆∞·ªõc khi thanh to√°n kh√¥ng?",a:"C√≥! B·∫°n ƒë∆∞·ª£c quy·ªÅn ki·ªÉm tra h√†ng tr∆∞·ªõc khi thanh to√°n. N·∫øu kh√¥ng h√†i l√≤ng, ho√†n to√†n c√≥ th·ªÉ t·ª´ ch·ªëi nh·∫≠n h√†ng."}].map((t,s)=>e.jsxs("div",{className:"bg-[#F5F2FF] rounded-2xl p-8 hover:shadow-lg transition-all",children:[e.jsxs("h3",{className:"text-xl font-bold text-[#1C1D1D] mb-3 flex items-start gap-3",children:[e.jsx("span",{className:"text-[#9F86D9] flex-shrink-0",children:"Q:"}),e.jsx("span",{children:t.q})]}),e.jsxs("p",{className:"text-[#646667] ml-8 leading-relaxed",children:[e.jsx("strong",{className:"text-[#9F86D9]",children:"A:"})," ",t.a]})]},s))})]})}),e.jsxs("section",{className:"py-20 bg-gradient-to-br from-[#E35946] via-[#F25E17] to-[#EDA62A] text-white relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-20 left-20 w-40 h-40 bg-white rounded-full animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-60 h-60 bg-white rounded-full animate-bounce"})]}),e.jsxs("div",{className:"max-w-[1000px] mx-auto px-4 text-center relative z-10",children:[e.jsx("h2",{className:"text-6xl font-bold mb-6",children:"ƒê·ª´ng B·ªè L·ª° C∆° H·ªôi N√†y!"}),e.jsxs("p",{className:"text-2xl mb-4 opacity-90",children:["Ch·ªâ c√≤n ",e.jsx("strong",{className:"text-[#FCC605]",children:"15 su·∫•t"})," v·ªõi gi√° ∆∞u ƒë√£i ƒë·∫∑c bi·ªát"]}),e.jsxs("p",{className:"text-xl mb-8 opacity-90",children:["Sau h√¥m nay, gi√° s·∫Ω tƒÉng l√™n"," ",e.jsx("span",{className:"line-through",children:p(l.regularPrice)})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-8 mb-8 inline-block",children:[e.jsx("p",{className:"text-3xl font-bold mb-2",children:"‚è∞ ∆Øu ƒë√£i k·∫øt th√∫c sau:"}),e.jsx("div",{className:"flex gap-4 justify-center",children:[{label:"Gi·ªù",value:v.hours},{label:"Ph√∫t",value:v.minutes},{label:"Gi√¢y",value:v.seconds}].map((t,s)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-white text-[#E35946] text-5xl font-bold w-24 h-24 rounded-xl flex items-center justify-center shadow-2xl",children:String(t.value).padStart(2,"0")}),e.jsx("p",{className:"text-lg font-bold mt-2",children:t.label})]},s))})]}),e.jsxs("div",{className:"flex gap-6 justify-center items-center",children:[e.jsx("button",{onClick:Y,className:"px-12 py-6 bg-white text-[#E35946] rounded-2xl font-bold text-2xl shadow-2xl hover:scale-110 transition-all",children:"üõí ƒê·∫∂T H√ÄNG NGAY"}),e.jsx("button",{onClick:()=>M("/shop"),className:"px-12 py-6 border-4 border-white text-white rounded-2xl font-bold text-2xl hover:bg-white hover:text-[#E35946] transition-all",children:"Xem th√™m s·∫£n ph·∫©m"})]}),e.jsx("div",{className:"mt-12 grid grid-cols-3 gap-8 max-w-3xl mx-auto",children:[{icon:"‚úÖ",text:"Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn"},{icon:"üéÅ",text:"T·∫∑ng qu√† k√®m gi√° tr·ªã"},{icon:"üîÑ",text:"ƒê·ªïi tr·∫£ mi·ªÖn ph√≠ 7 ng√†y"}].map((t,s)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl mb-3",children:t.icon}),e.jsx("p",{className:"font-bold text-lg",children:t.text})]},s))})]})]}),e.jsx("section",{className:"py-12 bg-[#1C1D1D] text-white",children:e.jsx("div",{className:"max-w-[1434px] mx-auto px-4",children:e.jsx("div",{className:"grid grid-cols-4 gap-8 text-center",children:[{number:"342+",label:"Kh√°ch h√†ng h√†i l√≤ng"},{number:"4.9/5",label:"ƒê√°nh gi√° trung b√¨nh"},{number:"99%",label:"T·ª∑ l·ªá mua l·∫°i"},{number:"24/7",label:"H·ªó tr·ª£ kh√°ch h√†ng"}].map((t,s)=>e.jsxs("div",{children:[e.jsx("p",{className:"text-5xl font-bold text-[#9F86D9] mb-2",children:t.number}),e.jsx("p",{className:"text-[#DBE2E5]",children:t.label})]},s))})})})]})},pe=()=>{const{id:N}=le(),M=ae(),{addToCart:q,cart:te}=ie(),A=re(),[n,B]=i.useState(null),[F,$]=i.useState(!0),[S,l]=i.useState(null),[T,x]=i.useState(!1),[P,I]=i.useState(1),[z,v]=i.useState("1"),[o,j]=i.useState(null),[R,U]=i.useState(null),[C,H]=i.useState("description"),[V,O]=i.useState(!1),K="/images/placeholder.webp";i.useEffect(()=>{(async()=>{if(!N){l("ID s·∫£n ph·∫©m kh√¥ng h·ª£p l·ªá"),$(!1);return}try{$(!0);const d=await ce.getProductById(parseInt(N,10));if(d.productType==="PDF"){M(`/product-pdf/${N}`,{replace:!0});return}B(d),l(null)}catch(d){console.error("Error fetching product:",d),l("Kh√¥ng th·ªÉ t·∫£i th√¥ng tin s·∫£n ph·∫©m")}finally{$(!1)}})()},[N,M]);const L=i.useMemo(()=>{if(!n)return[];const a=new Map,d=(r,w)=>{!r||a.has(r)||a.set(r,{src:r,alt:w??n.name})};return[...n.media??[]].sort((r,w)=>{const b=r.displayOrder??0,W=w.displayOrder??0;return b-W}).forEach(r=>d(r.imageUrl,r.altText)),d(n.thumbnailUrl,n.name),(n.variants??[]).forEach(r=>{d(r.imageUrl,r.name)}),Array.from(a.values())},[n]);i.useEffect(()=>{if(!n){j(null),U(null);return}const d=n.media?.find(r=>r.isPrimary)?.imageUrl??L[0]?.src??n.thumbnailUrl??K,h=n.variants&&n.variants.length>0?n.variants.find(r=>r.stockQuantity>0)??n.variants[0]:null;j(h??null),U(h?.imageUrl??d)},[n,L,K]),i.useEffect(()=>{I(1)},[o]),i.useEffect(()=>{v(P.toString())},[P]);const E=[{name:"T√¥ m√†u ch√∫ ch√≥ Labrador d·ªÖ th∆∞∆°ng",price:56.4,image:"/images/tomaucho.webp"},{name:"B·∫£ng ch·ªØ c√°i vi·∫øt th∆∞·ªùng ti·∫øng vi·ªát",price:253,image:"/images/bangchucai.webp"},{name:"K√©o Capybara an to√†n cho b√©",price:150.6,image:"/images/keocapi.webp"}],u=i.useMemo(()=>n?ee(n,o??void 0):null,[n,o]),Q=u?.hasDiscount??!1,_=Q&&u?u.discountPercent!==null?`Gi·∫£m ${u.discountPercent}%`:`Ti·∫øt ki·ªám ${p(u.discountAmount)}`:null,y=a=>o?o.id!==void 0&&a.id!==void 0?o.id===a.id:o.name===a.name:!1,m=async()=>{if(!n)return!1;if(g<=0)return A.error("Kh√¥ng th·ªÉ th√™m v√†o gi·ªè","S·∫£n ph·∫©m ƒë√£ h·∫øt h√†ng"),!1;const a=J(z);if(!a)return!1;const d=te?.items?.find(b=>b.productId===n.id&&(b.variantId??null)===(o?.id??null)),h=d?d.quantity:0,r=g-h;if(r<=0)return A.error("Kh√¥ng th·ªÉ th√™m v√†o gi·ªè","B·∫°n ƒë√£ c√≥ t·ªëi ƒëa s·ªë l∆∞·ª£ng s·∫£n ph·∫©m trong gi·ªè h√†ng"),!1;let w=a;a>r&&(w=r,A.warning("S·ªë l∆∞·ª£ng ƒëi·ªÅu ch·ªânh",`Ch·ªâ c√≤n ${r} s·∫£n ph·∫©m c√≥ th·ªÉ th√™m v√¨ b·∫°n ƒë√£ c√≥ ${h} trong gi·ªè`));try{return x(!0),await q({productId:n.id,variantId:o?.id,quantity:w}),A.success("ƒê√£ th√™m v√†o gi·ªè h√†ng!",`${w} x ${n.name}${o?" - "+o.name:""}`),!0}catch(b){return console.error("Error adding to cart:",b),A.error("Kh√¥ng th·ªÉ th√™m v√†o gi·ªè h√†ng","Vui l√≤ng th·ª≠ l·∫°i sau ho·∫∑c li√™n h·ªá h·ªó tr·ª£"),!1}finally{x(!1)}},G=async()=>{await m()&&M("/cart")};if(F)return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#9F86D9] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"ƒêang t·∫£i th√¥ng tin s·∫£n ph·∫©m..."})]})});if(S||!n)return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:S||"Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m"}),e.jsx("button",{onClick:()=>M("/shop"),className:"bg-[#9F86D9] text-white px-6 py-2 rounded hover:bg-[#8a75c4]",children:"Quay l·∫°i c·ª≠a h√†ng"})]})});if(n.landingPageEnabled)return e.jsx(ue,{initialProduct:n});const g=o?o.stockQuantity:n.stockQuantity,X=a=>{/^\d*$/.test(a)&&v(a)},J=(a,{suppressToast:d=!1}={})=>{const h=o?o.stockQuantity:n.stockQuantity,r=a.trim(),w=(W,Y)=>{d||A.warning(W,Y)};if(r==="")return w("S·ªë l∆∞·ª£ng kh√¥ng h·ª£p l·ªá","S·ªë l∆∞·ª£ng ph·∫£i l·ªõn h∆°n 0"),I(1),v("1"),null;const b=parseInt(r,10);return!b||b<1?(w("S·ªë l∆∞·ª£ng kh√¥ng h·ª£p l·ªá","S·ªë l∆∞·ª£ng ph·∫£i l·ªõn h∆°n 0"),I(1),v("1"),null):h>0&&b>h?(w("Kh√¥ng ƒë·ªß h√†ng",`Ch·ªâ c√≤n ${h} s·∫£n ph·∫©m trong kho`),I(h),v(h.toString()),null):(I(b),v(b.toString()),b)},se=()=>{J(z)},Z=a=>{a.key==="Enter"&&(a.preventDefault(),a.target.blur())};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"bg-[#EFF2F3] py-4",children:e.jsx("div",{className:"max-w-[1434px] mx-auto px-4",children:e.jsxs("div",{className:"flex items-center gap-3 text-base",children:[e.jsx("a",{href:"/",className:"text-[#9F86D9] hover:underline",children:"Home"}),e.jsx("span",{className:"text-[#646667]",children:"‚Ä∫"}),e.jsx("a",{href:"/shop",className:"text-[#9F86D9] hover:underline",children:"Shop"}),e.jsx("span",{className:"text-[#646667]",children:"‚Ä∫"}),e.jsx("span",{className:"text-[#646667]",children:n.categoryName||"S·∫£n ph·∫©m"})]})})}),e.jsx("div",{className:"max-w-[1434px] mx-auto px-4 py-16",children:e.jsxs("div",{className:"flex gap-10",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col gap-4",children:L.map(a=>e.jsx("div",{onClick:()=>U(a.src),className:`w-[100px] h-[120px] bg-[#EFF2F3] cursor-pointer border-2 ${R===a.src?"border-[#9F86D9]":"border-transparent"}`,children:e.jsx("img",{src:a.src,alt:a.alt,className:"w-full h-full object-cover"})},a.src))}),e.jsx("div",{className:"w-[460px] h-[645px] bg-[#EFF2F3]",children:e.jsx("img",{src:R||n.thumbnailUrl||K,alt:n.name,className:"w-full h-full object-cover"})})]}),e.jsxs("div",{className:"flex-1 max-w-[610px]",children:[Q&&u&&e.jsxs("div",{className:"flex flex-col gap-1 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#E35946"}),e.jsx("path",{d:"M6 12h12M12 8l4 4-4 4",stroke:"white",strokeWidth:"2"})]}),e.jsx("span",{className:"text-[#E35946] text-base",children:_})]}),u.activeDiscount?.campaignName&&e.jsxs("span",{className:"text-xs text-[#646667]",children:["Ch∆∞∆°ng tr√¨nh: ",u.activeDiscount.campaignName]})]}),n.badgeLabel&&e.jsx("div",{className:"inline-block px-3 py-1 bg-[#E35946] text-white text-xs font-bold rounded mb-4",children:n.badgeLabel}),e.jsx("h1",{className:"text-2xl font-bold text-[#1C1D1D] mb-4",children:n.name}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((a,d)=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"#FCC605",children:e.jsx("path",{d:"M10 0l2.5 6.5H20l-5.5 4.5 2 6.5L10 13l-6.5 4.5 2-6.5L0 6.5h7.5z"})},d))}),e.jsx("span",{className:"text-[#646667]",children:"(14 ƒê√°nh gi√° - 25 ƒê∆°n h√†ng)"})]}),e.jsxs("div",{className:"flex flex-col gap-1 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl font-bold text-[#9F86D9]",children:p(u?.finalPrice??0)}),Q&&u&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-[1px] bg-[#646667]"}),e.jsx("span",{className:"text-2xl text-[#646667]",children:p(u.basePrice)})]})]}),Q&&u&&u.discountAmount>0&&e.jsxs("span",{className:"text-sm text-[#E35946]",children:["Ti·∫øt ki·ªám ",p(u.discountAmount)," m·ªói s·∫£n ph·∫©m"]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("span",{className:`text-sm ${g>0?"text-green-600":"text-red-600"}`,children:g>0?`C√≤n ${g} s·∫£n ph·∫©m`:"H·∫øt h√†ng"})}),n.variants&&n.variants.length>0&&e.jsxs("div",{className:"mb-6 pb-6 border-b border-[#DBE2E5]",children:[e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"text-sm font-medium text-[#1C1D1D]",children:"Ph√¢n Lo·∫°i"})}),e.jsx("div",{className:"flex gap-3",children:n.variants.map(a=>{const d=y(a),h=ee(n,a),r=h.hasDiscount;return e.jsxs("button",{onClick:()=>{j(a),U(a.imageUrl??L[0]?.src??n.thumbnailUrl??K)},className:`relative flex flex-col items-center p-2 rounded border-2 transition-all hover:border-[#9F86D9] ${d?"border-[#9F86D9] bg-[#F5F2FF]":"border-[#DBE2E5] bg-white"}`,children:[d&&e.jsx("div",{className:"absolute top-1 right-1 w-5 h-5 bg-[#9F86D9] rounded-full flex items-center justify-center",children:e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:e.jsx("path",{d:"M2 6l2.5 2.5L10 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("div",{className:"w-16 h-16 mb-2 rounded overflow-hidden",children:e.jsx("img",{src:a.imageUrl??n.thumbnailUrl??K,alt:a.name,className:"w-full h-full object-cover"})}),e.jsx("span",{className:`text-xs text-center leading-tight ${d?"text-[#9F86D9] font-medium":"text-[#646667]"}`,children:a.name}),e.jsxs("div",{className:"flex flex-col items-center mt-1 leading-tight",children:[e.jsx("span",{className:"text-[11px] text-[#9F86D9] font-medium",children:p(h.finalPrice)}),r&&e.jsx("span",{className:"text-[10px] text-[#646667] line-through",children:p(h.basePrice)})]}),r&&h.discountPercent!==null&&e.jsxs("span",{className:"absolute top-1 left-1 text-[10px] font-semibold text-white bg-[#E35946] px-1.5 py-0.5 rounded",children:["-",h.discountPercent,"%"]})]},a.id??a.name)})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"text-sm font-medium text-[#1C1D1D]",children:"S·ªë L∆∞·ª£ng"})}),e.jsxs("div",{className:"flex items-center border border-[#DBE2E5] rounded w-fit mb-4",children:[e.jsx("button",{onClick:()=>I(Math.max(1,P-1)),className:"w-10 h-10 flex items-center justify-center hover:bg-[#EFF2F3] transition-colors",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M3 8h10",stroke:"#646667",strokeWidth:"1.5",strokeLinecap:"round"})})}),e.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:z,onChange:a=>X(a.target.value),onBlur:se,onKeyDown:Z,disabled:T||g===0,className:"w-14 text-center text-sm font-medium text-[#1C1D1D] border-x border-[#DBE2E5] outline-none bg-transparent disabled:text-gray-400"}),e.jsx("button",{onClick:()=>I(Math.min(g||1,P+1)),className:"w-10 h-10 flex items-center justify-center hover:bg-[#EFF2F3] transition-colors",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M8 3v10M3 8h10",stroke:"#646667",strokeWidth:"1.5",strokeLinecap:"round"})})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:m,disabled:g===0||T,className:`flex-1 h-12 flex items-center justify-center gap-2 border-2 rounded font-medium text-sm transition-colors ${g===0||T?"border-gray-300 text-gray-400 cursor-not-allowed":"border-[#9F86D9] text-[#9F86D9] hover:bg-[#9F86D9] hover:text-white"}`,children:T?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-current"}),e.jsx("span",{children:"ƒêang th√™m..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),g===0?"H·∫øt h√†ng":"Th√™m V√†o Gi·ªè H√†ng"]})}),e.jsx("button",{onClick:G,disabled:g===0||T,className:`flex-1 h-12 rounded font-medium text-sm transition-colors ${g===0||T?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-[#9F86D9] text-white hover:bg-[#8a75c4]"}`,children:g===0?"H·∫øt h√†ng":"Mua Ngay"})]})]})]}),e.jsxs("div",{className:"w-[171px]",children:[e.jsxs("h3",{className:"text-base text-center text-[#646667] mb-6 leading-tight",children:["G·ª£i √Ω",e.jsx("br",{}),"cho b·∫°n"]}),e.jsx("div",{className:"space-y-6",children:E.map((a,d)=>e.jsxs("div",{className:"cursor-pointer",children:[e.jsx("div",{className:"w-[171px] h-[171px] bg-[#EFF2F3] mb-2",children:e.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover"})}),e.jsx("h4",{className:"text-sm font-bold text-[#1C1D1D] mb-1",children:a.name}),e.jsx("p",{className:"text-sm text-[#9F86D9]",children:p(a.price)})]},d))})]})]})}),e.jsxs("div",{className:"max-w-[1434px] mx-auto px-4 mb-16",children:[e.jsx("div",{className:"border-b-2 border-[#DBE2E5] mb-8",children:e.jsxs("div",{className:"flex gap-12",children:[e.jsx("button",{onClick:()=>H("description"),className:`text-xl pb-4 ${C==="description"?"text-[#9F86D9] border-b-2 border-[#9F86D9]":"text-[#1C1D1D]"}`,children:"M√¥ t·∫£ s·∫£n ph·∫©m"}),e.jsx("button",{onClick:()=>H("ingredients"),className:`text-xl pb-4 ${C==="ingredients"?"text-[#9F86D9] border-b-2 border-[#9F86D9]":"text-[#1C1D1D]"}`,children:"Chi ti·∫øt s·∫£n ph·∫©m"}),e.jsx("button",{onClick:()=>H("vendor"),className:`text-xl pb-4 ${C==="vendor"?"text-[#9F86D9] border-b-2 border-[#9F86D9]":"text-[#1C1D1D]"}`,children:"ƒê√°nh gi√° s·∫£n ph·∫©m"})]})}),e.jsxs("div",{className:"flex gap-16",children:[e.jsxs("div",{className:"flex-1 max-w-[1004px]",children:[C==="description"&&e.jsxs("div",{className:"space-y-6 text-base text-[#1C1D1D]",children:[e.jsx("h3",{className:"text-xl font-bold text-[#1C1D1D]",children:"M√î T·∫¢ S·∫¢N PH·∫®M"}),n.shortDescription&&e.jsx("p",{className:"text-sm",children:n.shortDescription}),n.longDescription&&e.jsx("div",{className:"text-sm prose max-w-none",dangerouslySetInnerHTML:{__html:n.longDescription}}),!n.shortDescription&&!n.longDescription&&e.jsx("p",{className:"text-sm text-gray-500",children:"Ch∆∞a c√≥ m√¥ t·∫£ cho s·∫£n ph·∫©m n√†y."})]}),C==="ingredients"&&e.jsxs("div",{className:"space-y-6 text-base text-[#1C1D1D]",children:[e.jsx("h3",{className:"text-lg font-bold text-[#1C1D1D] mb-4",children:"CHI TI·∫æT S·∫¢N PH·∫®M"}),e.jsxs("div",{className:"space-y-4",children:[n.categoryName&&e.jsxs("div",{className:"flex gap-4",children:[e.jsx("span",{className:"text-sm text-[#646667] w-[160px]",children:"Danh M·ª•c"}),e.jsx("span",{className:"text-sm text-[#1C1D1D]",children:n.categoryName})]}),o&&e.jsxs("div",{className:"flex gap-4",children:[e.jsx("span",{className:"text-sm text-[#646667] w-[160px]",children:"Bi·∫øn th·ªÉ"}),e.jsx("span",{className:"text-sm text-[#1C1D1D]",children:o.name})]}),(o?.sku||n.sku)&&e.jsxs("div",{className:"flex gap-4",children:[e.jsx("span",{className:"text-sm text-[#646667] w-[160px]",children:"SKU"}),e.jsx("span",{className:"text-sm text-[#1C1D1D]",children:o?.sku??n.sku})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("span",{className:"text-sm text-[#646667] w-[160px]",children:"T·ªìn kho"}),e.jsxs("span",{className:"text-sm text-[#1C1D1D]",children:[g," s·∫£n ph·∫©m"]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("span",{className:"text-sm text-[#646667] w-[160px]",children:"Tr·∫°ng th√°i"}),e.jsx("span",{className:"text-sm text-[#1C1D1D]",children:n.isPublished?"ƒêang b√°n":"Ng·ª´ng b√°n"})]}),n.createdAt&&e.jsxs("div",{className:"flex gap-4",children:[e.jsx("span",{className:"text-sm text-[#646667] w-[160px]",children:"Ng√†y ƒëƒÉng"}),e.jsx("span",{className:"text-sm text-[#1C1D1D]",children:new Date(n.createdAt).toLocaleDateString("vi-VN")})]})]})]}),C==="vendor"&&n.id&&e.jsx("div",{children:V?e.jsx(oe,{productId:n.id,productName:n.name,onSuccess:()=>{O(!1),H("description"),setTimeout(()=>H("vendor"),0)},onCancel:()=>O(!1)}):e.jsx(he,{productId:n.id,onWriteReview:()=>O(!0)})})]}),e.jsxs("div",{className:"w-[336px]",children:[e.jsx("h3",{className:"text-base font-bold text-[#9F86D9] mb-4",children:"ƒê√°nh gi√° c·ªßa kh√°ch h√†ng"}),e.jsx("div",{className:"space-y-3",children:[{stars:5,percentage:80},{stars:4,percentage:72},{stars:3,percentage:25},{stars:2,percentage:16},{stars:1,percentage:4}].map(a=>e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-[#1C1D1D] w-[55px]",children:[a.stars," Sao"]}),e.jsx("div",{className:"w-[202px] h-1 bg-[#DBE2E5] rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-[#9F86D9]",style:{width:`${a.percentage}%`}})})]}),e.jsxs("span",{className:"text-xs text-[#1C1D1D] border border-[#DBE2E5] rounded px-2 py-1",children:[a.percentage,"%"]})]},a.stars))})]})]})]}),e.jsx(xe,{}),e.jsx(me,{})]})};export{pe as default};
